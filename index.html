<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Soluciones Gastronómicas</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Pantalla de Login -->
    <div id="login-container">
        <h2>Iniciar sesión</h2>
        <form id="login-form">
            <label for="username">Usuario:</label>
            <input type="text" id="username" required><br><br>
            <label for="password">Contraseña:</label>
            <input type="password" id="password" required><br><br>
            <button type="submit">Ingresar</button>
        </form>
        <p id="login-error" style="color: red; display: none;">Credenciales incorrectas. Intente de nuevo.</p>
    </div>

    <!-- Pantalla de la aplicación de ventas (oculta al principio) -->
    <div id="app-container" style="display: none;">
        <h1>Soluciones Gastronómicas</h1>
        
        <h2 id="vendedor-actual">Vendedor:</h2>

        <!-- Sección de Clientes -->
        <h2>Seleccionar Cliente y Forma de Pago</h2>
        <form id="cliente-form">
            <label for="cliente">Seleccionar Cliente:</label>
            <select id="cliente" name="cliente">
                <option value="cliente1">Enri´s</option>
                <option value="cliente2">Brother</option>
                <option value="cliente3">Cliente nuevo</option>
            </select><br><br>

            <!-- Si el cliente es nuevo, mostrar un campo para número de teléfono y nombre -->
            <div id="nuevo-cliente-container" style="display: none;">
                <label for="nuevo-cliente-nombre">Nombre del Cliente:</label>
                <input type="text" id="nuevo-cliente-nombre" name="nuevo-cliente-nombre" placeholder="Ingrese el nombre"><br><br>
                <label for="telefono">Número de Teléfono:</label>
                <input type="text" id="telefono" name="telefono" placeholder="Ingrese el teléfono"><br><br>
            </div>

            <label for="metodo-pago">Método de Pago:</label>
            <select id="metodo-pago" name="metodo-pago">
                <option value="efectivo">Efectivo</option>
                <option value="transferencia">Transferencia</option>
                <option value="cuenta-corriente">Cuenta Corriente</option>
            </select><br><br>
        </form>

        <!-- Formulario de ventas -->
        <form id="venta-form">
            <label for="perfil">Seleccionar Perfil:</label>
            <select id="perfil" name="perfil">
                <option value="1">Matias</option>
                <option value="2">Martin</option>
                <option value="3">Domingo F</option>
                <option value="4">Ignacio J</option>
            </select><br><br>

            <label for="producto">Seleccionar Producto:</label>
            <select id="producto" name="producto">
                <option value="papas">Papas (10kg) - $20,000</option>
                <option value="aceite">Aceite (5L)</option>
            </select><br><br>

            <div id="stock-container"></div>

            <label for="cantidad">Cantidad a vender:</label>
            <input type="number" id="cantidad" name="cantidad" min="1" value="1"><br><br>

            <!-- Sección de Descuentos -->
            <div id="descuento-container" style="display: none;">
                <label for="descuento">Aplicar Descuento:</label>
                <select id="descuento">
                    <option value="0">Ninguno</option>
                    <option value="8">8% de descuento</option>
                    <option value="12">12% de descuento</option>
                </select><br><br>
            </div>

            <h3 id="total-price">Precio Total: $20,000</h3> <!-- Precio total dinámico -->

            <button type="button" id="confirmar-btn">Confirmar Venta</button>
        </form>

        <h2>Ventas Realizadas</h2>
        <table id="ventas-table">
            <thead>
                <tr>
                    <th>Vendedor</th>
                    <th>Cliente</th>
                    <th>Producto</th>
                    <th>Cantidad Vendida</th>
                    <th>Pago</th>
                    <th>Fecha</th>
                    <th>Descuento</th>
                    <th>Total</th> <!-- ✅ Nueva columna agregada -->
                </tr>
            </thead>
            <tbody>
                <!-- Aquí aparecerán los registros de ventas -->
            </tbody>
        </table>

        <!-- Botón de exportación de ventas -->
        <button id="exportar-btn" onclick="exportarVentasCSV()">Exportar Ventas a CSV</button>

        <!-- Sección de carga de stock (solo visible para el admin) -->
        <div id="carga-stock-container" style="display: none;">
            <h2>Cargar Stock</h2>
            <form id="carga-stock-form">
                <label for="producto-stock">Seleccionar Producto:</label>
                <select id="producto-stock" name="producto-stock">
                    <option value="papas">Papas (10kg)</option>
                    <option value="aceite">Aceite (5L)</option>
                </select><br><br>

                <label for="cantidad-stock">Cantidad a agregar:</label>
                <input type="number" id="cantidad-stock" name="cantidad-stock" min="1" value="1"><br><br>

                <button type="button" id="agregar-stock-btn">Agregar Stock</button>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
